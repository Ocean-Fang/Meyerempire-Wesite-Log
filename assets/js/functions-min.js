$(document).ready(function(){let e=document.querySelector(".carousel"),t=e.querySelectorAll("img")[0],n=document.querySelectorAll(".wrapper i"),i=!1,s=!1,a,c,l,r=()=>{let t=e.scrollWidth-e.clientWidth;n[0].style.display=0==e.scrollLeft?"none":"block",n[1].style.display=e.scrollLeft==t?"none":"block"};n.forEach(n=>{n.addEventListener("click",()=>{let i=t.clientWidth+14;e.scrollLeft+="left"==n.id?-i:i,setTimeout(()=>r(),60)})});let o=()=>{if(e.scrollLeft-(e.scrollWidth-e.clientWidth)>-1||e.scrollLeft<=0)return;l=Math.abs(l);let n=t.clientWidth+14,i=n-l;if(e.scrollLeft>c)return e.scrollLeft+=l>n/3?i:-l;e.scrollLeft-=l>n/3?i:-l},d=t=>{i=!0,a=t.pageX||t.touches[0].pageX,c=e.scrollLeft},v=t=>{i&&(t.preventDefault(),s=!0,e.classList.add("dragging"),l=(t.pageX||t.touches[0].pageX)-a,e.scrollLeft=c-l,r())},u=()=>{i=!1,e.classList.remove("dragging"),s&&(s=!1,o())};e.addEventListener("mousedown",d),e.addEventListener("touchstart",d),document.addEventListener("mousemove",v),e.addEventListener("touchmove",v),document.addEventListener("mouseup",u),e.addEventListener("touchend",u),$(".side-nav li, .outer-nav li").click(function(){if(!$(this).hasClass("is-active")){var e=$(this),t=e.parent().find(".is-active"),n=e.parent().children().index(t),i=e.parent().children().index(e),s=$(this).parent().children().length-1;m(i),C(n,i,s)}}),$(".cta").click(function(){var e=$(".side-nav").find(".is-active"),t=$(".side-nav").children().index(e),n=$(".side-nav").children().length-1;m(n),C(t,n,n)});var h=document.getElementById("viewport"),p=new Hammer(h);function f(e){var t=$(".side-nav").find(".is-active"),n=$(".side-nav").children().index(t),i=$(".side-nav").children().length-1,s=0;"swipeup"===e.type||40===e.keyCode||e>0?n!==i?(m(s=n+1),C(n,s,i)):(m(s),C(n,s,i)):("swipedown"===e.type||38===e.keyCode||e<0)&&(0!==n?(m(s=n-1),C(n,s,i)):(m(s=i),C(n,s,i)))}function m(e){$(".side-nav, .outer-nav").children().removeClass("is-active"),$(".side-nav").children().eq(e).addClass("is-active"),$(".outer-nav").children().eq(e).addClass("is-active")}function C(e,t,n){$(".main-content").children().removeClass("section--is-active"),$(".main-content").children().eq(t).addClass("section--is-active"),$(".main-content .section").children().removeClass("section--next section--prev"),e===n&&0===t||0===e&&t===n?$(".main-content .section").children().removeClass("section--next section--prev"):e<t?$(".main-content").children().eq(e).children().addClass("section--next"):$(".main-content").children().eq(e).children().addClass("section--prev"),0!==t&&t!==n?$(".header--cta").addClass("is-active"):$(".header--cta").removeClass("is-active")}function L(){$(".header--nav-toggle").click(function(){$(".perspective").addClass("perspective--modalview"),setTimeout(function(){$(".perspective").addClass("effect-rotate-left--animate")},25),$(".outer-nav, .outer-nav li, .outer-nav--return").addClass("is-vis")}),$(".outer-nav--return, .outer-nav li").click(function(){$(".perspective").removeClass("effect-rotate-left--animate"),setTimeout(function(){$(".perspective").removeClass("perspective--modalview")},400),$(".outer-nav, .outer-nav li, .outer-nav--return").removeClass("is-vis")})}p.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),p.on("swipeup swipedown",function(e){f(e)}),$(document).keyup(function(e){$(".outer-nav").hasClass("is-vis")||(e.preventDefault(),f(e))})});